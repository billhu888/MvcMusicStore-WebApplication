@model MvcMusicStore.Models.Order

@{
    ViewData["Title"]  = "Payment Information";
    bool isPost = Convert.ToBoolean(ViewData["isPost"]);
}


<h2> Address and Payment</h2>

@if (isPost == false)
{
    <div>
        @using (Html.BeginForm("AddressAndPayment", "Checkout", FormMethod.Post))
        {
            <table>
                <tr>
                    <td>First Name</td>               
                </tr>
                <tr>
                    <td>
                        <input type="text" name="FirstName"/>
                    </td>
                </tr>

                <tr>
                    <td>Last Name</td>
                </tr>
                <tr>
                    <td>
                        <input type="text" name="LastName"/>
                    </td>
                </tr>

                <tr>
                    <td>Address</td>            
                </tr>
                <tr>
                    <td>
                        <input type="text" name="Address"/>
                    </td>
                </tr>

                <tr>
                    <td>City</td>
                </tr>
                <tr>
                    <td>
                        <input type="text" name="City"/>
                    </td>
                </tr>

                <tr>
                    <td>State</td>      
                </tr>
                <tr>
                    <td>
                        <input type="text" name="State"/>
                    </td>
                </tr>

                <tr>
                    <td>Postal Code</td>         
                </tr>
                <tr>
                    <td>
                        <input type="text" name="PostalCode"/>
                    </td>
                </tr>

                <tr>
                    <td>Country</td>             
                </tr>
                <tr>
                    <td>
                        <input type="text" name="Country"/>
                    </td>
                </tr>

                <tr>
                    <td>Phone</td>         
                </tr>
                <tr>
                    <td>
                        <input type="text" name="Phone"/>
                    </td>
                </tr>

                <tr>
                    <td>Email</td>               
                </tr>
                <tr>
                    <td>
                        <input type="text" name="Email"/>
                    </td>
                </tr>

                <tr>
                    <td>
                        <input type="submit" value="Submit Order">
                    </td>
                </tr>
            </table>
        }
    </div>
}
else 
{
    <div>
        @using (Html.BeginForm("AddressAndPayment", "Checkout", FormMethod.Post))
        {
            <table>
                <tr>
                    <td>First Name</td>               
                </tr>
                <tr>
                    <td>
                        <input type="text" name="FirstName" value=@Model.FirstName />
                    </td>
                </tr>

                <tr>
                    <td>Last Name</td>
                </tr>
                <tr>
                    <td>
                        <input type="text" name="LastName" value=@Model.LastName />
                    </td>
                </tr>

                <tr>
                    <td>Address</td>            
                </tr>
                <tr>
                    <td>
                        <input type="text" name="Address" value=@Model.Address />
                    </td>
                </tr>

                <tr>
                    <td>City</td>
                </tr>
                <tr>
                    <td>
                        <input type="text" name="City" value=@Model.City />
                    </td>
                </tr>

                <tr>
                    <td>State</td>      
                </tr>
                <tr>
                    <td>
                        <input type="text" name="State" value=@Model.State />
                    </td>
                </tr>

                <tr>
                    <td>Postal Code</td>         
                </tr>
                <tr>
                    <td>
                        <input type="text" name="PostalCode" value=@Model.PostalCode />
                    </td>
                </tr>

                <tr>
                    <td>Country</td>             
                </tr>
                <tr>
                    <td>
                        <input type="text" name="Country" value=@Model.Country />
                    </td>
                </tr>

                <tr>
                    <td>Phone</td>         
                </tr>
                <tr>
                    <td>
                        <input type="text" name="Phone" value=@Model.Phone />
                    </td>
                </tr>

                <tr>
                    <td>Email</td>               
                </tr>
                <tr>
                    <td>
                        <input type="text" name="Email" value=@Model.Email />
                    </td>
                </tr>

                <tr>
                    <td>
                        <input type="submit" value="Submit Order" />
                    </td>
                </tr>
            </table>
        }
    </div>

    @foreach (var key in ViewData.ModelState.Keys)
    {
        foreach (var error in ViewData.ModelState[key].Errors)
        {
            <div>@error.ErrorMessage Test1</div>
        }
    }
}